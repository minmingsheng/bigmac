function animated(e,t){e.addEventListener("webkitAnimationEnd",t,!1),e.addEventListener("animationend",t,!1),e.addEventListener("oanimationend",t,!1)}function ajax(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&200==n.status&&t(n)},n.open("GET",e,!0),n.send()}var tabToday=!0,tabNotifications=!1,img={wApple:"images/apple.png",blurBg:"images/blurBg-03.jpg",portrait:"images/portrait-04.png",load:"images/load.gif",toolBar:"images/toolBar-18.png",apple:"images/apple.png",battery:"images/battery-20.png",ampifier:"images/ampifier-21.png",sidemenu:"images/sidemenu-22.png",questionMark:"images/questionMark-23.png",toolbarInfo:"images/toolbar-info.png"},leftBtnsImg=["images/leftBtn-close.png","images/leftBtn-min.png","images/leftBtn-max.png"],leftBtnsImgHover=["images/leftBtn-close-hover.png","images/leftBtn-min-hover.png","images/leftBtn-max-hover.png"],icons=["images/dockIcon-07.png","images/dockIcon-08.png","images/dockIcon-09.png","images/dockIcon-10.png","images/dockIcon-11.png","images/dockIcon-12.png","images/dockIcon-13.png"],btnImg={sleep:"images/Sleep-04.png",shut:"images/shut-06.png",restart:"images/restart-05.png"},LoadingPage={el:document.createElement("div"),template:"<div class='centerbox'><img src="+img.wApple+" alt='' /><div class='loadBar'><div></div></div></div>",className:["loadingPage"],addFn:function(){this.el.classList.add(this.className[0]),this.el.innerHTML=this.template,document.body.appendChild(this.el);var e=this;animated(this.el.querySelector(".loadBar>div"),function(){e.el.remove(),LogIn.addFn(),LogIn.click()})},removeFn:function(){this.el.remove()}},ThreeBtn={template1:"<div><img src='"+btnImg.sleep+"'/></div>",template2:"<div><img src='"+btnImg.shut+"'/></div>",template3:"<div><img src='"+btnImg.restart+"'/></div>"},LogIn={el:document.createElement("div"),template:"<div class='centerbox'><div class='circle'><img src="+img.portrait+"  /></div><p>Jason Sheng</p><div class='logIn-threeBtn'>"+ThreeBtn.template1+ThreeBtn.template2+ThreeBtn.template3+"</div></div>",className:["logIn"],addFn:function(){this.el.classList.add(this.className[0]),this.el.innerHTML=this.template,document.body.appendChild(this.el)},click:function(){function e(){console.info(this),Input.addFn()}var t=this.el.querySelector(".circle");console.info("ccccc:",t),t.addEventListener("click",e),t.addEventListener("touchstart",e)}},Input={el:document.createElement("div"),template:"<i></i><div><input type='password' placeholder='Enter Passwoord'></div>",className:["logIn-input"],addFn:function(){function e(){this.parentElement.classList.add("dispear");var e=this;animated(this.parentElement,function(){e.parentElement.classList.remove("dispear"),e.parentElement.remove()})}function t(e){13==e.keyCode&&(n(),this.parentElement.parentElement.remove(),console.log(this.parentElement.parentElement),setTimeout(function(){LogIn.el.remove(),Desktop.addFn()},2e3))}function n(){var e=document.querySelector(".centerbox"),t=document.createElement("div");t.style.marginTop="2em",t.innerHTML="<img src="+img.load+" style='opacity:0.5' />",e.appendChild(t)}this.el.classList.add(this.className[0]),this.el.innerHTML=this.template,LogIn.el.querySelector(".centerbox").appendChild(this.el);var i=this.el.querySelector("i");i.addEventListener("click",e),i.addEventListener("touchstart",e);var s=this.el.querySelector("input");s.addEventListener("keydown",t)}},Desktop={el:document.createElement("div"),template:"",className:["desktop"],addFn:function(){this.el.classList.add(this.className[0]),this.el.innerHTML=this.template,document.body.appendChild(this.el),ToolBar.addFn(),Dock.addFn()}},ToolBar={el:document.createElement("div"),template:"",className:["toolBar"],addFn:function(){this.el.classList.add(this.className[0]),this.el.innerHTML=this.template,Desktop.el.appendChild(this.el),this.el.appendChild(toolBarMenu.el()),toolBarMenu.activeSideMenu()}},Dock={el:document.createElement("div"),template:"",className:["dock"],addFn:function(){this.el.classList.add(this.className[0]),this.el.innerHTML="",Desktop.el.appendChild(this.el),DockIcon.addFn(),this.hover()},hover:function(){for(var e=document.querySelectorAll(".icons"),t=document.querySelector(".icons").getClientRects()[0].width,n=document.querySelector(".dock").getClientRects()[0].width,i=8,s=5,a=-4,d=-1.5,l=0;l<e.length;l++)e[l].addEventListener("mouseenter",function(e){console.log(this.nextSibling),console.log(this.previousSibling),this.nextSibling&&(this.nextSibling.style.width=s+"rem",this.nextSibling.style.transform="translate(0,"+d+"em)"),this.previousSibling&&(this.previousSibling.style.width=s+"rem",this.previousSibling.style.transform="translate(0,"+d+"em)"),this.style.transition="all 0.3s ease",this.style.transform="translate(0,"+a+"em)",this.style.width=i+"rem",console.log(document.querySelector(".dock")),document.querySelector(".dock").style.width=1.2*n+"px"}),e[l].addEventListener("mouseout",function(e){this.nextSibling&&(this.nextSibling.style.width=t+"px",this.nextSibling.style.transform="translate(0,0)"),this.previousSibling&&(this.previousSibling.style.width=t+"px",this.previousSibling.style.transform="translate(0,0)"),this.style.width=t+"px",this.style.transform="translate(0,0)",this.style.transiition="all 0.5s ease",document.querySelector(".dock").style.width=n+"px"}),e[l].addEventListener("click",function(){this.style.animation="openApp 1.1s 4  ease",this.nextSibling&&(this.nextSibling.style.width=t+"px",this.nextSibling.style.transform="translate(0,0)"),this.previousSibling&&(this.previousSibling.style.width=t+"px",this.previousSibling.style.transform="translate(0,0)"),this.style.width=t+"px",this.style.transform="translate(0,0)",this.style.transiition="all 0.5s ease",document.querySelector(".dock").style.width=n+"px",animated(this,function(){console.log("jaosn"),Safari.addFn()})})}},Safari={className:["window","safari"],addFn:function(e){var t=document.createElement("div");t.style.width=window.innerWidth/2+"px",t.style.height=window.innerHeight/1.2+"px",t.classList.add(this.className[0]),t.classList.add(this.className[1]),t.innerHTML="";var n=document.createElement("div");n.classList.add("title");var i=document.createElement("div");i.classList.add("leftBtns");for(var s=0;s<leftBtnsImg.length;s++){var a=document.createElement("img");a.setAttribute("src",leftBtnsImg[s]),i.appendChild(a)}i.addEventListener("mouseenter",function(){for(var e=this.children,t=0;t<e.length;t++)e[t].setAttribute("src",leftBtnsImgHover[t])},!0),i.addEventListener("mouseout",function(){for(var e=this.children,t=0;t<e.length;t++)e[t].setAttribute("src",leftBtnsImg[t])},!0),n.appendChild(i);var d=document.createElement("div");d.classList.add("safariAddress"),n.appendChild(d),t.appendChild(n),Desktop.el.appendChild(t),this.drag(t),this.index()},drag:function(e){function t(e){var t=this,n=(t.getClientRects()[0].width,t.getClientRects()[0].height,t.getClientRects()[0].left),i=t.getClientRects()[0].top,s=e.clientX-n,a=e.clientY-i;console.log(s),console.log(a),this.style.cursor="default",window.onmousemove=function(e){var n=Math.max(e.clientX-s),i=Math.max(25,e.clientY-a),d=t.parentElement;d.style.top=i+"px",d.style.left=n+"px"}}e.querySelector(".title").addEventListener("mousedown",t),e.querySelector(".title").addEventListener("mouseup",function(e){window.onmousemove=""})},index:function(){for(var e=document.querySelectorAll(".window"),t=0;t<e.length;t++)e[t].addEventListener("mousedown",function(){for(var t=0;t<e.length;t++)e[t].style.zIndex="10";this.style.zIndex="100"})}},DockIcon={addFn:function(){var e=document.createElement("div");e.classList.add("iconContainer");for(var t=0;t<icons.length;t++){var n=document.createElement("div");n.classList.add("icons");var i=document.createElement("img");i.setAttribute("src",icons[t]),n.appendChild(i);var s=document.createElement("div");s.classList.add("dot"),n.appendChild(s),e.appendChild(n)}Dock.el.appendChild(e)}},toolBarMenu={leftTemplate:"<div><img src="+img.apple+"  /></div><div>JASON</div><div>File</div><div>Edit</div><div>View</div><div>Go</div><div>Window</div><div>About Me</div>",rightTemplate:"<div class='day'>Tue</div><div class='month'>Apr</div><div class='realtime'>00:00:00</div><div><img src="+img.ampifier+"  /></div><div><img class='sidemenu' src="+img.sidemenu+"  /></div>",el:function(){var e=document.createElement("div");return e.setAttribute("class","menu"),e.innerHTML="<div>"+this.leftTemplate+"</div>",e.innerHTML+="<div>"+this.rightTemplate+"</div>",e},activeSideMenu:function(){function e(){n?(sideMenu.addFn(),setTimeout(function(){sideMenu.el.style.right="0"},2),n=!1):(sideMenu.el.style.right=-sideMenu.el.getClientRects()[0].width+"px",n=!0)}var t=document.querySelector(".sidemenu");t.addEventListener("mousedown",e);var n=!0;this.realTime()},realTime:function(){var e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=new Date;console.log(e[n.getDay()]),console.log(t[n.getMonth()]),document.querySelector(".day").innerHTML=e[n.getDay()],document.querySelector(".month").innerHTML=t[n.getMonth()],setInterval(function(){var e=new Date,t=function(){return parseInt(e.getHours())<10?"0"+e.getHours():e.getHours()},n=function(){return parseInt(e.getMinutes())<10?"0"+e.getMinutes():e.getMinutes()},i=function(){return parseInt(e.getSeconds())<10?"0"+e.getSeconds():e.getSeconds()};document.querySelector(".realtime").innerHTML=t()+":"+n()+":"+i()},1e3)}},sideMenu={el:document.createElement("div"),className:["slideMenu"],addFn:function(){function e(){console.log("todayContainer.el",todayContainer.el);var e=new RegExp("activeTab").test(this.className);if(e){if(!tabToday)return;return this.addEventListener("mousedown",function(){this.classList.add("tabBackgrond")}),void this.addEventListener("mouseup",function(){this.classList.remove("tabBackgrond")})}this.classList.add("activeTab"),i.classList.remove("activeTab"),tabToday=!0,todayContainer.el.style.display="block",tabNotifications=!1}function t(){var e=new RegExp("activeTab").test(this.className);if(e){if(!tabNotifications)return;return this.addEventListener("mousedown",function(){this.classList.add("tabBackgrond")}),void this.addEventListener("mouseup",function(){this.classList.remove("tabBackgrond")})}this.classList.add("activeTab"),n.classList.remove("activeTab"),tabToday=!1,todayContainer.el.classList.add("dispear"),animated(todayContainer.el,function(){todayContainer.el.style.display="none",todayContainer.el.classList.remove("dispear")}),tabNotifications=!0}this.el.classList.add(this.className[0]),this.el.innerHTML="",Desktop.el.appendChild(this.el),this.el.appendChild(sideMenuTab.addFn());var n=document.querySelector(".today"),i=document.querySelector(".notifications");n.addEventListener("click",e),i.addEventListener("click",t),this.el.appendChild(todayContainer.addFn()),todayBody.clickQuestionFn()}},sideMenuTab={el:document.createElement("div"),className:["sideMenuTab"],addFn:function(){return this.el.classList.add(this.className[0]),this.el.innerHTML="<div class='today activeTab'>Me</div><div class='notifications'>Notifications</div>",this.el}},todayContainer={el:document.createElement("div"),className:["todayContainer"],addFn:function(){return this.el.classList.add(this.className[0]),this.el.innerHTML="<div class='resume-title'><div>Resume</div></div>",this.el.appendChild(todayBody.el()),this.el.appendChild(todayTitle.addFn()),this.el}},todayBody={el:function(){var e=document.createElement("div");return e.innerHTML="<h1>Jason Sheng (Available)</h1>",e.innerHTML+="<p>Interdisciplinary Designer <span class='interQuestion' ><img src="+img.questionMark+"  /></span></p>",e.innerHTML+="<p>Based In Toronto</p>",e.classList.add("todayBody"),e},clickQuestionFn:function(){document.querySelector(".interQuestion").addEventListener("click",function(){infoWindow.addFn(),infoWindow.buttonFn(),infoWindow.drag()})}},titles=["Education","Proficiencies","Personal Skill"],todayTitle={el:document.createElement("div"),className:["todayTitle"],addFn:function(){var e;this.el.classList.add(this.className[0]);this.el.innerHTML="";var t=this;return ajax("resume.json",function(n){e=JSON.parse(n.responseText),console.log(e);for(var i in e){var s=document.createElement("div");if(s.classList.add(i.replace(" ","")),s.classList.add("todayTitles"),s.innerHTML="<h1>"+i+"</h1>","Education"==i){var a=document.createElement("div");e[i].map(function(e){var t=document.createElement("div");for(var n in e){var i=document.createElement("div");i.textContent=e[n],t.appendChild(i)}a.appendChild(t)}),s.appendChild(a)}else if("Proficiencies"==i){console.log("Proficiencies:",e[i]);var a=document.createElement("div");a.classList.add("pros");for(var d in e[i]){console.log("prolist:",e[i][d]);var l=document.createElement("div");l.innerHTML="<h5>"+d+"</h5>",e[i][d].map(function(e){var t=document.createElement("div");t.textContent=e,l.appendChild(t)}),a.appendChild(l)}s.appendChild(a)}else for(var o in e[i]){var a=document.createElement("div");a.textContent=e[i][o],s.appendChild(a)}t.el.appendChild(s)}}),this.el}},infoWindow={el:document.createElement("div"),className:["window","info-window"],addFn:function(){this.el.classList.add(this.className[0]),this.el.classList.add(this.className[1]),this.el.style.top="30%",this.el.style.left="30%",this.el.innerHTML="<div class='title'></div>",this.el.innerHTML+="<div class='body'><div><img src="+img.toolbarInfo+"  /></div><div><h1>Interdisciplinary Designer</h1><p>Interdisciplinary designers' areas are never limited, they use design thinking to define and solve problems. They are T-shape designers </p><button>ok</button></div></div>",Desktop.el.appendChild(this.el)},buttonFn:function(){this.el.querySelector("button").addEventListener("click",function(){this.parentElement.parentElement.parentElement.remove()})},drag:function(){function e(e){var t=this,n=(t.getClientRects()[0].width,t.getClientRects()[0].height,t.getClientRects()[0].left),i=t.getClientRects()[0].top,s=e.clientX-n,a=e.clientY-i;console.log(s),console.log(a),this.style.cursor="default",window.onmousemove=function(e){var n=Math.max(e.clientX-s),i=Math.max(25,e.clientY-a),d=t.parentElement;d.style.top=i+"px",d.style.left=n+"px"}}this.el.querySelector(".title").addEventListener("mousedown",e),this.el.querySelector(".title").addEventListener("mouseup",function(e){window.onmousemove=""})}};LoadingPage.addFn();
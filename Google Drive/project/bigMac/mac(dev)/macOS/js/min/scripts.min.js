function animated(e,t){e.addEventListener("webkitAnimationEnd",t,!1),e.addEventListener("animationend",t,!1),e.addEventListener("oanimationend",t,!1)}function ajax(e,t){var i=new XMLHttpRequest;i.onreadystatechange=function(){4==i.readyState&&200==i.status&&t(i)},i.open("GET",e,!0),i.send()}var tabToday=!0,tabNotifications=!1,img={wApple:"images/apple.png",blurBg:"images/blurBg-03.jpg",portrait:"images/portrait-04.png",load:"images/load.gif",toolBar:"images/toolBar-18.png",apple:"images/apple.png",battery:"images/battery-20.png",ampifier:"images/ampifier-21.png",sidemenu:"images/sidemenu-22.png",questionMark:"images/questionMark-23.png",toolbarInfo:"images/toolbar-info.png"},btnImg={sleep:"images/Sleep-04.png",shut:"images/shut-06.png",restart:"images/restart-05.png"},LoadingPage={el:document.createElement("div"),template:"<div class='centerbox'><img src="+img.wApple+" alt='' /><div class='loadBar'><div></div></div></div>",className:["loadingPage"],addFn:function(){this.el.classList.add(this.className[0]),this.el.innerHTML=this.template,document.body.appendChild(this.el);var e=this;animated(this.el.querySelector(".loadBar>div"),function(){e.el.remove(),LogIn.addFn(),LogIn.click()})},removeFn:function(){this.el.remove()}},ThreeBtn={template1:"<div><img src='"+btnImg.sleep+"'/></div>",template2:"<div><img src='"+btnImg.shut+"'/></div>",template3:"<div><img src='"+btnImg.restart+"'/></div>"},LogIn={el:document.createElement("div"),template:"<div class='centerbox'><div class='circle'><img src="+img.portrait+"  /></div><p>Jason Sheng</p><div class='logIn-threeBtn'>"+ThreeBtn.template1+ThreeBtn.template2+ThreeBtn.template3+"</div></div>",className:["logIn"],addFn:function(){this.el.classList.add(this.className[0]),this.el.innerHTML=this.template,document.body.appendChild(this.el)},click:function(){function e(){console.info(this),Input.addFn()}var t=this.el.querySelector(".circle");console.info("ccccc:",t),t.addEventListener("click",e),t.addEventListener("touchstart",e)}},Input={el:document.createElement("div"),template:"<i></i><div><input type='password' placeholder='Enter Passwoord'></div>",className:["logIn-input"],addFn:function(){function e(){this.parentElement.classList.add("dispear");var e=this;animated(this.parentElement,function(){e.parentElement.classList.remove("dispear"),e.parentElement.remove()})}function t(e){13==e.keyCode&&(i(),this.parentElement.parentElement.remove(),console.log(this.parentElement.parentElement),setTimeout(function(){LogIn.el.remove(),Desktop.addFn(),ToolBar.addFn()},2e3))}function i(){var e=document.querySelector(".centerbox"),t=document.createElement("div");t.style.marginTop="2em",t.innerHTML="<img src="+img.load+" />",e.appendChild(t)}this.el.classList.add(this.className[0]),this.el.innerHTML=this.template,LogIn.el.querySelector(".centerbox").appendChild(this.el);var n=this.el.querySelector("i");n.addEventListener("click",e),n.addEventListener("touchstart",e);var a=this.el.querySelector("input");a.addEventListener("keydown",t)}},Desktop={el:document.createElement("div"),template:"",className:["desktop"],addFn:function(){this.el.classList.add(this.className[0]),this.el.innerHTML=this.template,document.body.appendChild(this.el)}},ToolBar={el:document.createElement("div"),template:"",className:["toolBar"],addFn:function(){this.el.classList.add(this.className[0]),this.el.innerHTML=this.template,Desktop.el.appendChild(this.el),this.el.appendChild(toolBarMenu.el()),toolBarMenu.activeSideMenu()}},toolBarMenu={leftTemplate:"<div><img src="+img.apple+"  /></div><div>JASON</div><div>File</div><div>Edit</div><div>View</div><div>Go</div><div>Window</div><div>About Me</div>",rightTemplate:"<div>Sat</div><div>Apr</div><div>Tue</div><div>01:27:00</div><div><img src="+img.ampifier+"  /></div><div><img class='sidemenu' src="+img.sidemenu+"  /></div>",el:function(){var e=document.createElement("div");return e.setAttribute("class","menu"),e.innerHTML="<div>"+this.leftTemplate+"</div>",e.innerHTML+="<div>"+this.rightTemplate+"</div>",e},activeSideMenu:function(){function e(){i?(sideMenu.addFn(),setTimeout(function(){sideMenu.el.style.right="0"},2),i=!1):(sideMenu.el.style.right=-sideMenu.el.getClientRects()[0].width+"px",i=!0)}var t=document.querySelector(".sidemenu");t.addEventListener("mousedown",e);var i=!0}},sideMenu={el:document.createElement("div"),className:["slideMenu"],addFn:function(){function e(){var e=new RegExp("activeTab").test(this.className);if(e){if(!tabToday)return;return this.addEventListener("mousedown",function(){this.classList.add("tabBackgrond")}),void this.addEventListener("mouseup",function(){this.classList.remove("tabBackgrond")})}this.classList.add("activeTab"),n.classList.remove("activeTab"),tabToday=!0,tabNotifications=!1}function t(){var e=new RegExp("activeTab").test(this.className);if(e){if(!tabNotifications)return;return this.addEventListener("mousedown",function(){this.classList.add("tabBackgrond")}),void this.addEventListener("mouseup",function(){this.classList.remove("tabBackgrond")})}this.classList.add("activeTab"),i.classList.remove("activeTab"),tabToday=!1,tabNotifications=!0}this.el.classList.add(this.className[0]),this.el.innerHTML="",Desktop.el.appendChild(this.el),this.el.appendChild(sideMenuTab.addFn());var i=document.querySelector(".today"),n=document.querySelector(".notifications");i.addEventListener("click",e),n.addEventListener("click",t),this.el.appendChild(todayContainer.addFn()),todayBody.clickQuestionFn()}},sideMenuTab={el:document.createElement("div"),className:["sideMenuTab"],addFn:function(){return this.el.classList.add(this.className[0]),this.el.innerHTML="<div class='today activeTab'>Today</div><div class='notifications'>Notifications</div>",this.el}},todayContainer={el:document.createElement("div"),className:["todayContainer"],addFn:function(){return this.el.classList.add(this.className[0]),this.el.innerHTML="<div class='resume-title'>Resume</div>",this.el.appendChild(todayBody.el()),this.el.appendChild(todayTitle.addFn()),this.el}},todayBody={el:function(){var e=document.createElement("div");return e.innerHTML="<h1>Jason Sheng</h1>",e.innerHTML+="<p>Interdisciplinary Designer <span class='interQuestion' ><img src="+img.questionMark+"  /></span></p>",e.innerHTML+="<p>Based In Toronto</p>",e.classList.add("todayBody"),e},clickQuestionFn:function(){document.querySelector(".interQuestion").addEventListener("click",function(){infoWindow.addFn(),infoWindow.buttonFn(),infoWindow.drag()})}},titles=["Education","Proficiencies","Personal Skill"],todayTitle={el:document.createElement("div"),className:["todayTitle"],addFn:function(){var e;this.el.classList.add(this.className[0]);this.el.innerHTML="";var t=this;return ajax("resume.json",function(i){e=JSON.parse(i.responseText),console.log(e);for(var n in e){var a=document.createElement("div");if(a.classList.add(n.replace(" ","")),a.classList.add("todayTitles"),a.innerHTML="<h1>"+n+"</h1>","Education"==n){var s=document.createElement("div");e[n].map(function(e){var t=document.createElement("div");for(var i in e){var n=document.createElement("div");n.textContent=e[i],t.appendChild(n)}s.appendChild(t)}),a.appendChild(s)}else if("Proficiencies"==n){console.log("Proficiencies:",e[n]);var s=document.createElement("div");s.classList.add("pros");for(var d in e[n]){console.log("prolist:",e[n][d]);var l=document.createElement("div");l.innerHTML="<h5>"+d+"</h5>",e[n][d].map(function(e){var t=document.createElement("div");t.textContent=e,l.appendChild(t)}),s.appendChild(l)}a.appendChild(s)}else for(var o in e[n]){var s=document.createElement("div");s.textContent=e[n][o],a.appendChild(s)}t.el.appendChild(a)}}),this.el}},infoWindow={el:document.createElement("div"),className:["window","info-window"],addFn:function(){this.el.classList.add(this.className[0]),this.el.classList.add(this.className[1]),this.el.style.top="30%",this.el.style.left="30%",this.el.innerHTML="<div class='title'></div>",this.el.innerHTML+="<div class='body'><div><img src="+img.toolbarInfo+"  /></div><div><h1>Interdisciplinary Designer</h1><p>Interdisciplinary designers' areas are never limited, they use design thinking to define and solve problems. It is a part of T-shape deisgner </p><button>ok</button></div></div>",Desktop.el.appendChild(this.el)},buttonFn:function(){this.el.querySelector("button").addEventListener("click",function(){this.parentElement.parentElement.parentElement.remove()})},drag:function(){function e(e){var t=this,i=(t.getClientRects()[0].width,t.getClientRects()[0].height,t.getClientRects()[0].left),n=t.getClientRects()[0].top,a=e.clientX-i,s=e.clientY-n;console.log(a),console.log(s),this.style.cursor="default",window.onmousemove=function(e){var i=Math.max(e.clientX-a),n=Math.max(25,e.clientY-s),d=t.parentElement;d.style.top=n+"px",d.style.left=i+"px"}}this.el.querySelector(".title").addEventListener("mousedown",e),this.el.querySelector(".title").addEventListener("mouseup",function(e){window.onmousemove=""})}};LoadingPage.addFn();